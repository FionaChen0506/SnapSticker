<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>SnapSticker</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
</head>

<body>

    <div class="container my-4">
        <!-- Headings -->
        <h1 class="fs-2 text">SnapSticker</h1>
        <p class="fs-5">Magical Sticker App for Your Moments</p>


        <!-- Form to Upload Image -->
        <form method="post" enctype="multipart/form-data">
            <input type="file" name="file">
            <input type="submit" value="Upload Image" name="submit">
        </form>

        <!-- Display Uploaded Image -->
        {% if uploaded_image %}
            <img src="{{ url_for('static', filename=uploaded_image) }}" id="uploadedImage" class="img-fluid my-4" alt="Uploaded Image">
            <!-- JavaScript to create clickable rectangles for each detected face -->
            <script>
                let faceData = {{ face_data | tojson }};
                let imageElement = document.getElementById('uploadedImage');

                faceData.forEach(face => {
                    let rect = document.createElement('div');
                    rect.style.position = 'absolute';
                    rect.style.border = '2px solid red';
                    rect.style.left = (imageElement.offsetLeft + face.left) + 'px';
                    rect.style.top = (imageElement.offsetTop + face.top) + 'px';
                    rect.style.width = (face.right - face.left) + 'px';
                    rect.style.height = (face.bottom - face.top) + 'px';
                    rect.onclick = function() { alert('Face selected!'); }; // Replace with actual function
                    document.body.appendChild(rect);
                });
            </script>
        
        
        
        
        {% endif %}

</body>

</html>